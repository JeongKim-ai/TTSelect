<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>TTSelect Generator</title>
</head>

<body>
  <h2>TTSelect TTS Generator (Tutorial Coming Soon)</h2>

  <label for="voice">Choose a voice:</label>
  <select id="voice">
    <!-- Seediffusion -->
    <option value="seediffusion|IVONA 2 Eric">IVONA 2 Eric (Seediffusion)</option>

    <!-- Acapela -->
    <option value="acapela|Rod">Rod22K_HQ (Acapela)</option>
  </select>

  <br><br>

  <label for="text">Enter your text:</label><br>
  <input
    type="text"
    id="text"
    placeholder="Type whatever you want like: big chungus"
    size="80"
  >

  <br><br>

  <button onclick="speak()">Speak</button>

  <script>
    /* ===============================
       API URL CONSTANTS
    =============================== */

    const SEEDIFFUSION_API =
      'http://speech.seediffusion.cc:7774/synthesize?voice=${voice}&text=${text}';

    const ACAPELA_API =
      'https://www.acapela-cloud.com/api/command/?voice=${voice}22k_HQ&text=%5Caudio%3Dmix%3D"male"%3Bvolume%3D15%3Brepeat%3Don%5C${text}&output=stream&type=mp3&samplerate=22050&token=bd8b22e3e5ebbaa05ea0055aec4e16c357c29486';


    /* ===============================
       MAIN FUNCTION
    =============================== */

    function speak() {
      const voiceSelect = document.getElementById('voice').value;
      const textInput = document.getElementById('text').value;

      if (!textInput.trim()) {
        alert('Please enter text first.');
        return;
      }

      const encodedText = encodeURIComponent(textInput);

      const [engine, voice] = voiceSelect.split('|');

      let finalUrl = '';

      if (engine === 'seediffusion') {
        finalUrl = SEEDIFFUSION_API
          .replace('${voice}', voice)
          .replace('${text}', encodedText);
      }

      if (engine === 'acapela') {
        finalUrl = ACAPELA_API
          .replace('${voice}', voice)
          .replace('${text}', encodedText);
      }

      // Redirect to TTS stream
      window.location.href = finalUrl;
    }
  </script>
</body>
</html>

